
<project name="chisimba_realtime_base" default="dist" basedir=".">
    <description>Chisimba Realtime Tools</description>
    <property name="src" location="src"/>
    <property name="build" location="build"/>
    <property name="deploy" location="deploy"/>
    <property name="dist" location="."/>
    <property name="realtime.classroom.base.filename" value="deploy/realtime-xmpp.jar" />
    <path id="classpathlib">
        <pathelement location="lib/commons-collections-3.1" />
        <pathelement location="lib/commons-logging-api-rt.jar" />
        <pathelement location="lib/quartz-all-1.6.0.jar" />
        <pathelement location="lib/viewer.jar" />
        <pathelement location="lib/commons-collections-3.1.jar" />     
        <pathelement location="lib/commons-logging.jar" />         
        <pathelement location="lib/jta-rt.jar" />
        <pathelement location="lib/PgsLookAndFeel.jar"/> 
        <pathelement location="lib/commons-collections-3.1-rt.jar" />
        <pathelement location="lib/DJNativeSwing.jar" />           
        <pathelement location="lib/DJNativeSwing-SWT.jar" /> 
        <pathelement location="lib/kunststoff.jar" />        
        <pathelement location="lib/screenviewer.jar" />
        <pathelement location="lib/commons-logging-api" />             
        <pathelement location="lib/l2fprod-common-all.jar"/>
        <pathelement location="lib/jna.jar" />                     
        <pathelement location="lib/kunstsoff-rt.jar" />    
        <pathelement location="lib/-linux.jar" />
        <pathelement location="lib/commons-logging-api.jar" />         
        <pathelement location="lib/smack.jar" />
        <pathelement location="lib/smackx.jar" />

    </path>
    <target name="init">
        <mkdir dir="${build}"/>
        <mkdir dir="${build}/images"/>
        <mkdir dir="${build}/META-INF"/>
        <mkdir dir="${deploy}"/>
        
        <copy todir="${build}/images">
              <fileset dir="${src}/images"/>
        </copy>

        <copy todir="${build}/META-INF">
              <fileset dir="${src}/META-INF"/>
        </copy>

    </target>
    <target name="compile" depends="init" description="compile the source ">
        <!-- Compile the java code from ${src} into ${build} -->
        <javac srcdir="${src}" destdir="${build}" debug="true" source="1.5" debuglevel="lines,vars,source">
            <classpath refid="classpathlib" />
        </javac>
    </target>
   
    <target name="dist-classroom-base" depends="compile" description="classroom base module">
        <!-- Create the distribution directory -->
        <mkdir dir="${dist}//lib"/>
        <jar destfile="${realtime.classroom.base.filename}">
 
            <fileset dir="${build}">
                <exclude name="org/avoir/realtime/net/**/*.xml" />
                <exclude name="org/avoir/realtime/skins/winxp/**/*"/>
            </fileset>
        </jar>

    </target>
    <target name="deploy" depends="dist-classroom-base" description="Deploys the jar files to the web modules folder">
   </target>
  </project>
