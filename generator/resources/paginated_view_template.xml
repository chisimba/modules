<?xml version="1.0" encoding="utf-8"?>
<!-- This file is a code generation template for Chisimba for generating code for paginated record set -->
<chisimba_paginate_view_template>

<item name="putpagnav">
<purpose>Generates a method to put the page navigation on the output page</purpose>
<code>
    /**
    *
    * Method to put the navigation header and footer
    *
    * @param int $pageNoDisp : The page number to display (always 
    * one more than the actual page)
    *
    * @param int $totalPages : The total number of pages
    *
    */
    function putPageNav()
    {
    	//The page number that is displayed
        $pageNoDisp = $this->pageNoDisp;
        //The total number of pages in the record set
        $totalPages = $this->totalPages;
        //The actual page number is one less than displayed because of counting from 0
        $pageNo = $pageNoDisp - 1;
        //The actual total pages also has a zero base
        $totalPageAct = $totalPages-1;
        //Return the module code
        $module='{MODULECODE}';
        //Create a URL for the first page
        $start = $this->uri(array('pageno'=>'0', 'action'=>'view'), $module);
        //Create a URL for the last page
        $last = $this->uri(array('pageno'=>$totalPageAct, 'action'=>'view'), $module);
        //Create the return string for adding to it
        $ret = '';
        $search={SEARCH_BOX_CODE};
        //Build the navigation table with left nav
        if ($pageNo > 0) {
            $prev = $pageNo-1;
            $prevPage = $this->uri(array('pageno'=>$prev, 'action'=>'view'), $module);
            $leftNav = "<td align="left" class="rsnav">"
              . "<a href=\"" . $start . "\"> "
              . $this->objNav->firstPage() . "\"</a>"
              . "<a href=\"" . $prevPage . "\"> "
              . $this->objNav->prevPage() . "</a></td>";
        } else {
            $leftNav = "<td align=\"left\" class=\"rsnav\">"
              . $this->objNav->firstPageDisabled()
              . " " . $this->objNav->prevPageDisabled() . "</td>";
        }
          //Add right navigation to the nav table
          if ($pageNo < $totalPages-1) {
              $nxt = $pageNo + 1;
              $nextPage = $this->uri(array('pageno'=>$nxt, 'action'=>'view'), $module);
              $rightNav = "<td align=\"right\" class=\"rsnav\"> " . $search 
                . " </td><td align=\"right\" class=\"rsnav\">"
                . "<a href=\"" . $nextPage . "\">"
                . $this->objNav->nextPage() . "</a> "
                . "<a href=\"" . $last . "\">"
                . $this->objNav->lastPage() . "</a></td>";
        } else {
            $rightNav = "<td align=\"right\" class=\"rsnav\">"
              . $this->objNav->nextPageDisabled() . " "
              . $this->objNav->lastPageDisabled() . "</td>";
        }
        //Finish up & display page of page number
    }
</code>
</item>

<item name="xx">
<purpose>xx</purpose>
<code>

</code>
</item>

</chisimba_paginate_view_template>